# Documentation Preset
#
# For writing documentation, READMEs, guides, and technical content.
# Includes a writer/editor/reviewer cycle for quality.
#
# Usage:
#   hats run --config presets/docs.yml --prompt "Write API documentation for the auth module"

event_loop:
  prompt_file: "PROMPT.md"
  completion_promise: "DOCS_COMPLETE"
  max_iterations: 30
  max_runtime_seconds: 7200

cli:
  backend: "claude"

core:
  specs_dir: "./specs/"

hats:
  writer:
    name: "Writer"
    description: "Writes documentation sections with clarity and precision."
    triggers: ["write.section", "review.revision"]
    publishes: ["write.done"]
    default_publishes: "write.done"
    instructions: |
      ## WRITER MODE

      Write one documentation section with clarity and precision.

      ### Process
      1. Read the section assignment from the event
      2. Study relevant code to ensure accuracy
      3. Write clear, concise content
      4. Include code examples where helpful
      5. Commit the changes
      6. Publish `write.done` event with section name and file path

      ### Style Guidelines
      - Use active voice
      - Lead with the "what" and "why" before "how"
      - Code examples should be copy-pasteable
      - Link to related sections

      ### DON'T
      - ❌ Write multiple sections at once
      - ❌ Skip code verification
      - ❌ Use jargon without explanation

  reviewer:
    name: "Doc Reviewer"
    description: "Reviews documentation for accuracy, clarity, and completeness."
    triggers: ["write.done"]
    publishes: ["review.done", "review.revision"]
    default_publishes: "review.done"
    instructions: |
      ## DOC REVIEWER MODE

      Review documentation for accuracy, clarity, and completeness.

      ### Checklist
      - [ ] Technically accurate (matches code)
      - [ ] Clear to target audience
      - [ ] Examples work as shown
      - [ ] No broken links
      - [ ] Consistent terminology
      - [ ] Grammar and spelling

