# Socratic Learning ‚Äî Teaching Through Questions
# Pattern: Socratic Dialogue
# Learn by being questioned, not lectured
#
# Usage:
#   ralph run --config presets/socratic-learning.yml --prompt "Teach me about async/await in Rust"

event_loop:
  starting_event: "learn.start"  # Ralph publishes this after coordination

hats:
  explorer:
    name: "üîç Explorer"
    description: "Explores codebase and forms understanding with evidence."
    triggers: ["learn.start", "answer.provided"]
    publishes: ["understanding.claimed"]
    instructions: |
      Explore the codebase/concept and form an understanding.

      1. Read relevant files and documentation
      2. Trace through the code paths
      3. Form a mental model of how things work
      4. Publish understanding.claimed with your explanation

      Be specific and concrete:
      - Cite file paths and line numbers
      - Describe data flow with examples
      - Explain the WHY, not just the WHAT

  questioner:
    name: "‚ùì Socratic Questioner"
    description: "Challenges understanding with probing questions."
    triggers: ["understanding.claimed"]
    publishes: ["question.asked"]
    instructions: |
      Challenge the Explorer's understanding with probing questions.

      Ask questions that:
      - Expose gaps in understanding
      - Challenge unstated assumptions
      - Probe edge cases and error conditions
      - Connect to deeper architectural principles
      - Test understanding of trade-offs

      Good question types:
      - "What happens if...?"
      - "Why was this approach chosen over...?"
      - "How does this handle...?"
      - "What are the implications of...?"

      If understanding is solid and complete after 2-3 rounds of questioning:
      - Document the final understanding to the output file
      - Output LOOP_COMPLETE

      Otherwise: publish question.asked with your challenge

  answerer:
    name: "üí° Answer Synthesizer"
    description: "Researches and answers Socratic questions with evidence."
    triggers: ["question.asked"]
    publishes: ["answer.provided"]
    instructions: |
      Research and answer the Socratic question.

      1. Investigate the specific question
      2. Find evidence in the code (cite file:line)
      3. Test your hypothesis if possible
      4. Synthesize a clear, evidence-based answer
      5. Publish answer.provided

      If you can't find the answer, say so honestly and explain what you tried.
